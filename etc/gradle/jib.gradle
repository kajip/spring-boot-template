// Dockerタスクの設定
jib {
  from {
    image = jibSourceImage
  }
  to {
    image = "$jibDestinationImageRepositoryUrl/$project.name:xxxxx"
  }
  container {
    jvmFlags = [
      '-Xms256M',
      '-Xmx256M',
      '-Xss1M'
    ]
    ports = [
        '8080'
    ]
    labels = [
        "maintainer": "Tomomi Kajita <t-kajita@biglobe.co.jp>",

        // Dockerのラベルは、標準化が進んでいるらしいので乗っかる
        // https://github.com/opencontainers/image-spec
        "org.opencontainers.image.created": buildDate,
        "org.opencontainers.image.authors": "Tomomi Kajita <t-kajita@biglobe.co.jp>",
        "org.opencontainers.image.title": project.name,
        "org.opencontainers.image.source": vcsUrl,
        "org.opencontainers.image.version": project.version,
        "org.opencontainers.image.revision": vcsRef
    ]
  }
}